<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£›ç¾½ä¹‹å¾‘ï¼šè‡ºç£å€™é³¥ä¸­ç¹¼ç«™äº’å‹•å­¸ç¿’é«”é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Earthly Harmony -->
    <!-- Application Structure Plan: æœ¬æ‡‰ç”¨ç¨‹å¼æ¡ç”¨äº†åˆ†é å¼å„€è¡¨æ¿çµæ§‹ï¼Œé ‚éƒ¨è¨­æœ‰æ¸…æ™°çš„å°è¦½åˆ—ï¼Œå°æ‡‰æ‹¼çµ„æ´»å‹•ä¸­çš„å››å€‹ã€Œå°ˆå®¶ã€ä¸»é¡Œï¼šé³¥é¡ç‰©ç¨®ã€é‡è¦æ£²åœ°ã€ç”Ÿå­˜å¨è„…èˆ‡ä¿è‚²è¡Œå‹•ã€‚é€™ç¨®è¨­è¨ˆè®“ä½¿ç”¨è€…èƒ½è‡ªç”±æ¢ç´¢ï¼Œç¬¦åˆç¾ä»£ç¶²é çš„éç·šæ€§ç€è¦½ç¿’æ…£ï¼ŒåŒæ™‚ä¹Ÿå·§å¦™åœ°åæ˜ äº†åŸå§‹å ±å‘Šä¸­çš„æ•™å­¸æ³•çµæ§‹ã€‚ä½¿ç”¨è€…å¯ä»¥ç›´è§€åœ°åœ¨ä¸åŒä¸»é¡Œé–“åˆ‡æ›ï¼Œæ·±å…¥äº†è§£å„å€‹é¢å‘ï¼Œæœ€å¾Œé€éç¶œåˆæ€§çš„åœ–è¡¨èˆ‡è³‡è¨Šï¼Œç†è§£ä¿è­·å€™é³¥æ˜¯ä¸€é …éœ€è¦å„æ–¹çŸ¥è­˜å”ä½œçš„ä»»å‹™ï¼Œå®Œç¾å‘¼æ‡‰äº†æ‹¼çµ„å­¸ç¿’çš„æ ¸å¿ƒç²¾ç¥ã€‚ -->
    <!-- Visualization & Content Choices: å ±å‘Šä¸­çš„è³‡è¨Šè¢«è½‰åŒ–ç‚ºå¤šç¨®äº’å‹•è¦–è¦ºå…ƒç´ ï¼š1) é³¥é¡ç‰©ç¨®ï¼šä½¿ç”¨å¯ç¯©é¸çš„å¡ç‰‡ç¶²æ ¼å±•ç¤ºï¼Œé»æ“Šå¯æŸ¥çœ‹è©³æƒ…ï¼Œæ­¤æ³•ä¾¿æ–¼æ¯”è¼ƒèˆ‡å­¸ç¿’ã€‚2) é‡è¦æ£²åœ°ï¼šä»¥é¢¨æ ¼åŒ–çš„è‡ºç£åœ°åœ–çµåˆå‹•æ…‹å…§å®¹é¢æ¿å‘ˆç¾ï¼Œé»æ“Šåœ°æ¨™å³å¯æ›´æ–°è³‡è¨Šèˆ‡ç”œç”œåœˆåœ–ï¼Œç›´è§€åœ°é€£çµåœ°ç†ä½ç½®èˆ‡ç”Ÿæ…‹æ•¸æ“šã€‚3) ç”Ÿå­˜å¨è„…ï¼šåˆ©ç”¨æ°´å¹³é•·æ¢åœ–é‡åŒ–ã€Œçª—æ®ºã€çš„åš´é‡æ€§ï¼Œä¸¦ä»¥å¡ç‰‡è£œå……å…¶ä»–å¨è„…ï¼Œä½¿æ•¸æ“šæ›´å…·è¡æ“ŠåŠ›ã€‚4) ä¿è‚²è¡Œå‹•ï¼šæ¡é›™æ¬„ä½ˆå±€å€åˆ†æ”¿ç­–èˆ‡å€‹äººè¡Œå‹•ï¼Œè³¦äºˆä½¿ç”¨è€…æ¸…æ™°çš„è¡Œå‹•æŒ‡å—ã€‚æ‰€æœ‰åœ–è¡¨å‡ä½¿ç”¨Chart.jsç¹ªè£½æ–¼Canvasä¸Šï¼Œç¢ºä¿äº’å‹•æ€§èˆ‡è·¨å¹³å°ç›¸å®¹æ€§ã€‚æ­¤è¨­è¨ˆæ—¨åœ¨å°‡éœæ…‹å ±å‘Šè½‰åŒ–ç‚ºå‹•æ…‹ã€æ˜“æ–¼å¸æ”¶çš„å­¸ç¿’å·¥å…·ï¼Œå®Œå…¨éµå¾ªç„¡SVG/Mermaidçš„è¦æ±‚ã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8F4F1; /* Warm Neutral Background */
        }
        .nav-active {
            background-color: #8D9B6A; /* Muted Green */
            color: #FFFFFF;
        }
        .nav-inactive {
            background-color: #FFFFFF;
            color: #6B7280;
            transition: all 0.3s;
        }
        .nav-inactive:hover {
            background-color: #EAE3DD;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #EAE3DD;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .map-point {
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .map-point:hover {
            transform: scale(1.2);
        }
        .map-point.active {
             transform: scale(1.2);
        }
        .map-point.active .outer-circle {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(141, 155, 106, 0.7);
            }
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(141, 155, 106, 0);
            }
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(141, 155, 106, 0);
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <h1 class="text-2xl md:text-3xl font-bold text-center text-[#5A6F40]">é£›ç¾½ä¹‹å¾‘ï¼šè‡ºç£å€™é³¥ä¸­ç¹¼ç«™</h1>
            <p class="text-center text-gray-600 mt-1">ä¸€å€‹é—œæ–¼é·å¾™ã€æŒ‘æˆ°èˆ‡å®ˆè­·çš„äº’å‹•æ•…äº‹</p>
        </div>
    </header>

    <nav class="bg-[#EAE3DD] py-4 shadow-inner">
        <div id="nav-container" class="container mx-auto flex flex-wrap justify-center gap-2 md:gap-4 px-4">
            <button data-target="species" class="nav-btn nav-active px-4 py-2 rounded-full font-semibold shadow">ğŸ¦ é³¥é¡ç‰©ç¨®</button>
            <button data-target="habitats" class="nav-btn nav-inactive px-4 py-2 rounded-full font-semibold shadow">ğŸï¸ é‡è¦æ£²åœ°</button>
            <button data-target="threats" class="nav-btn nav-inactive px-4 py-2 rounded-full font-semibold shadow">âš ï¸ ç”Ÿå­˜å¨è„…</button>
            <button data-target="conservation" class="nav-btn nav-inactive px-4 py-2 rounded-full font-semibold shadow">ğŸ›¡ï¸ ä¿è‚²è¡Œå‹•</button>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="species" class="content-section active">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-[#8D9B6A]">èªè­˜é£›ç¾½å¤§ä½¿</h2>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">è‡ºç£æ˜¯æ±äº-æ¾³å¤§åˆ©è¥¿äºé·å¾™è·¯ç·šä¸Šä¸å¯æˆ–ç¼ºçš„ä¼‘æ¯ç«™ï¼ŒåŒ¯é›†äº†å„å¼å„æ¨£çš„é£›ç¾½ç²¾éˆã€‚æœ¬å€å¡Šå°‡å¸¶æ‚¨èªè­˜é€™äº›å€™é³¥çš„å¤šæ¨£æ€§èˆ‡ç‰¹å¾µï¼Œå¾è¿…çŒ›çš„çŒ›ç¦½åˆ°å„ªé›…çš„æ°´é³¥ã€‚é»æ“Šä¸‹æ–¹çš„æŒ‰éˆ•ç¯©é¸ä¸åŒé¡å‹çš„é³¥é¡ï¼Œæˆ–é»æ“Šé³¥é¡å¡ç‰‡ä¾†æ·±å…¥äº†è§£ç‰ å€‘çš„ç‰¹å¾µèˆ‡æ•…äº‹ã€‚</p>
            </div>
            <div id="bird-filter-buttons" class="flex justify-center flex-wrap gap-3 mb-8">
                <button class="bird-filter-btn bg-[#8D9B6A] text-white px-4 py-2 rounded-md shadow" data-filter="all">æ‰€æœ‰é³¥é¡</button>
                <button class="bird-filter-btn bg-white text-gray-700 px-4 py-2 rounded-md shadow" data-filter="çŒ›ç¦½">çŒ›ç¦½</button>
                <button class="bird-filter-btn bg-white text-gray-700 px-4 py-2 rounded-md shadow" data-filter="æ°´é³¥">æ°´é³¥</button>
                <button class="bird-filter-btn bg-white text-gray-700 px-4 py-2 rounded-md shadow" data-filter="ç‡•é·—">ç‡•é·—</button>
            </div>
            <div id="bird-gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            </div>
        </section>

        <section id="habitats" class="content-section">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-[#8D9B6A]">æ¢ç´¢åº‡è­·æ‰€èˆ‡ä¸­ç¹¼ç«™</h2>
                <p class="mt-2 text-gray-600 max-w-3xl mx-auto">è‡ºç£çš„æ¿•åœ°ã€æµ·å²¸èˆ‡å±±è„ˆç‚ºå€™é³¥æä¾›äº†é‡è¦çš„åº‡è­·ã€‚æœ¬å€å¡Šå°‡å¼•å°æ‚¨æ¢ç´¢ä¸‰å€‹æœ€å…·ä»£è¡¨æ€§çš„æ£²åœ°ï¼šé—œæ¸¡ã€ä¸ƒè‚¡å’Œå¢¾ä¸ï¼Œå®ƒå€‘å„è‡ªæ“æœ‰ç¨ç‰¹çš„ç”Ÿæ…‹ç³»çµ±èˆ‡ä¿è‚²æ•…äº‹ã€‚é»æ“Šåœ°åœ–ä¸Šçš„åœ°æ¨™ï¼Œæ·±å…¥äº†è§£æ¯å€‹ä¸­ç¹¼ç«™çš„ç”Ÿæ…‹æ„ç¾©èˆ‡ä¸»è¦é³¥ç¨®ã€‚</p>
            </div>
            <div class="flex flex-col lg:flex-row gap-8 items-start">
                <div class="w-full lg:w-1/3 h-96 lg:h-[500px] bg-white rounded-lg shadow-lg p-4 flex items-center justify-center">
                    <div class="relative w-full h-full">
                        <div class="absolute top-0 left-0 w-full h-full bg-contain bg-no-repeat bg-center" style="background-image: url('https://placehold.co/400x600/EAE3DD/FFFFFF?text=TAIWAN');"></div>
                        <div id="map-point-guandu" data-habitat="guandu" class="map-point absolute top-[15%] left-[60%]">
                            <div class="outer-circle w-8 h-8 bg-[#8D9B6A] rounded-full flex items-center justify-center shadow-lg">
                                <div class="inner-circle w-4 h-4 bg-white rounded-full"></div>
                            </div>
                        </div>
                        <div id="map-point-qigu" data-habitat="qigu" class="map-point absolute top-[50%] left-[20%]">
                             <div class="outer-circle w-8 h-8 bg-[#8D9B6A] rounded-full flex items-center justify-center shadow-lg">
                                <div class="inner-circle w-4 h-4 bg-white rounded-full"></div>
                            </div>
                        </div>
                        <div id="map-point-kenting" data-habitat="kenting" class="map-point absolute top-[80%] left-[35%]">
                             <div class="outer-circle w-8 h-8 bg-[#8D9B6A] rounded-full flex items-center justify-center shadow-lg">
                                <div class="inner-circle w-4 h-4 bg-white rounded-full"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="habitat-info" class="w-full lg:w-2/3 p-6 bg-white rounded-lg shadow-lg">
                </div>
            </div>
        </section>

        <section id="threats" class="content-section">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-[#8D9B6A]">é·å¾™ä¹‹è·¯çš„å±éšª</h2>
                <p class="mt-2 text-gray-600 max-w-3xl mx-auto">å€™é³¥çš„é·å¾™æ—…ç¨‹å……æ»¿æŒ‘æˆ°ï¼Œè¨±å¤šå¨è„…ä¾†è‡ªäººé¡æ´»å‹•ã€‚æœ¬å€å¡Šå°‡æ­éœ²é€™äº›é£›ç¾½å¤§ä½¿é¢è‡¨çš„å›°å¢ƒï¼Œå¾æ˜äº®çš„çª—æˆ¶åˆ°æ£²åœ°çš„æ¶ˆå¤±ï¼Œäº†è§£é€™äº›å¨è„…æ˜¯ä¿è­·ç‰ å€‘çš„ç¬¬ä¸€æ­¥ã€‚ä¸‹åœ–ä»¥è¦–è¦ºåŒ–æ–¹å¼å‘ˆç¾å„ç¨®å¨è„…çš„ç›¸å°åš´é‡æ€§ï¼Œè€Œè³‡è¨Šå¡å‰‡æä¾›æ›´æ·±å…¥çš„èªªæ˜ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h3 class="text-xl font-bold text-center mb-4">è‡ºç£å€™é³¥é¢è‡¨çš„ä¸»è¦å¨è„…</h3>
                <div class="chart-container">
                    <canvas id="threatsChart"></canvas>
                </div>
            </div>
            <div id="threat-cards" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            </div>
        </section>

        <section id="conservation" class="content-section">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-[#8D9B6A]">æˆç‚ºå¤©ç©ºçš„å®ˆè­·è€…</h2>
                <p class="mt-2 text-gray-600 max-w-3xl mx-auto">ä¿è­·å€™é³¥éœ€è¦æ”¿åºœã€åœ˜é«”èˆ‡å€‹äººçš„å…±åŒåŠªåŠ›ã€‚æœ¬å€å¡Šå°‡ä»‹ç´¹è‡ºç£æ”¯æŒä¿è‚²çš„ç›¸é—œæ³•è¦èˆ‡æ”¿ç­–ï¼Œä¸¦æä¾›æˆ‘å€‘æ¯å€‹äººéƒ½èƒ½åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æ¡å–çš„å…·é«”è¡Œå‹•ã€‚æ¢ç´¢é€™äº›ä¿è‚²ç­–ç•¥ï¼Œçœ‹çœ‹æˆ‘å€‘èƒ½å¦‚ä½•ç‚ºé€™äº›é é“è€Œä¾†çš„å®¢äººï¼Œæ‰“é€ ä¸€å€‹æ›´å‹å–„çš„ç’°å¢ƒã€‚</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-center">ğŸ“œ æ”¿ç­–èˆ‡æ³•è¦</h3>
                    <div id="policy-list" class="space-y-4"></div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-center">â¤ï¸ å€‹äººè¡Œå‹•æ–¹æ¡ˆ</h3>
                    <div id="action-list" class="space-y-4"></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-12 py-6">
        <div class="container mx-auto text-center px-4">
            <p>ã€Œé£›ç¾½ä¹‹å¾‘ã€äº’å‹•å­¸ç¿’é«”é©—</p>
            <p class="text-sm text-gray-400 mt-1">éˆæ„Ÿæºæ–¼æ‹¼çµ„å­¸ç¿’æ³•ï¼Œæ—¨åœ¨æå‡å¤§çœ¾å°å€™é³¥ä¿è‚²çš„èªè­˜ã€‚</p>
            <p class="text-xs text-gray-500 mt-4">æœ¬é é¢ç‚ºæ¦‚å¿µå±•ç¤ºï¼Œè³‡æ–™ä¾†æºæ–¼ã€Œé£›ç¾½ä¹‹å¾‘ï¼šè‡ºç£å€™é³¥ä¸­ç¹¼ç«™çš„æ‹¼çµ„å­¸ç¿’é«”é©—ã€å ±å‘Šã€‚</p>
        </div>
    </footer>

    <script>
        const data = {
            birds: [
                { name: 'éŠéš¼', type: 'çŒ›ç¦½', description: 'ä¸–ç•Œä¸Šé£›è¡Œé€Ÿåº¦æœ€å¿«çš„å‹•ç‰©ï¼Œä¿¯è¡æ™‚é€Ÿå¯é”320å…¬é‡Œã€‚ä»¥é³¥é¡ç‚ºä¸»é£Ÿï¼Œæ˜¯é ‚ç´šæ é£Ÿè€…ï¼Œå…¶å­˜åœ¨æ˜¯ç”Ÿæ…‹ç³»çµ±å¥åº·çš„æŒ‡æ¨™ã€‚', image: 'https://placehold.co/600x400/8D9B6A/FFFFFF?text=éŠéš¼' },
                { name: 'ç°é¢éµŸé·¹', type: 'çŒ›ç¦½', description: 'ç§‹å­£éå¢ƒè‡ºç£çš„ä»£è¡¨æ€§çŒ›ç¦½ï¼Œåˆç¨±ã€Œåœ‹æ…¶é³¥ã€ï¼Œå¸¸åœ¨å¢¾ä¸å¤§é‡é›†çµï¼Œå½¢æˆå£¯è§€çš„ã€Œé·¹æ²³ã€æ™¯è±¡ã€‚', image: 'https://placehold.co/600x400/8D9B6A/FFFFFF?text=ç°é¢éµŸé·¹' },
                { name: 'èµ¤è…¹é·¹', type: 'çŒ›ç¦½', description: 'é«”å‹è¼ƒå°çš„çŒ›ç¦½ï¼Œèˆ‡ç°é¢éµŸé·¹åŒç‚ºç§‹å­£éå¢ƒå¤§è»çš„ä¸»åŠ›ï¼Œå…¶é·å¾™ç‹€æ³æ˜¯é•·æœŸç”Ÿæ…‹ç›£æ¸¬çš„é‡é»ã€‚', image: 'https://placehold.co/600x400/8D9B6A/FFFFFF?text=èµ¤è…¹é·¹' },
                { name: 'é»‘é¢çµé·º', type: 'æ°´é³¥', description: 'åœ‹éš›ç´šä¿è‚²é³¥ç¨®ï¼Œè‡ºç£æ˜¯å…¶å…¨çƒæœ€é‡è¦çš„åº¦å†¬å€ï¼Œä½”å…¨çƒæ—ç¾¤è¿‘å…­æˆã€‚å…¶æ—ç¾¤è®ŠåŒ–æ˜¯æ¿•åœ°å¥åº·ç‹€æ³çš„ã€ŒæŒ‡æ¨™ç‰©ç¨®ã€ã€‚', image: 'https://placehold.co/600x400/A6B48D/FFFFFF?text=é»‘é¢çµé·º' },
                { name: 'è«¾æ°é·¸', type: 'æ°´é³¥', description: 'æ¥µåº¦ç€•å±çš„ç‰©ç¨®ï¼Œå˜´éƒ¨ç•¥ç‚ºä¸Šç¿¹æ˜¯å…¶ç‰¹å¾µï¼Œåœ¨è‡ºå—å°‡è»æ¿•åœ°æœ‰åº¦å†¬ç´€éŒ„ï¼Œçªé¡¯äº†ç‰¹å®šä¿è­·å€çš„é‡è¦æ€§ã€‚', image: 'https://placehold.co/600x400/A6B48D/FFFFFF?text=è«¾æ°é·¸' },
                { name: 'é«˜è¹ºé´´', type: 'æ°´é³¥', description: 'æ“æœ‰ä¸æˆæ¯”ä¾‹çš„ç²‰ç´…è‰²é•·è…¿ï¼Œé»‘ç™½åˆ†æ˜çš„ç¾½è‰²ç›¸ç•¶é†’ç›®ï¼Œå¸¸è¦‹æ–¼é­šå¡­ã€æ¿•åœ°ï¼Œæ˜¯æ¿•åœ°ç”Ÿæ…‹çš„å„ªé›…é»ç¶´ã€‚', image: 'https://placehold.co/600x400/A6B48D/FFFFFF?text=é«˜è¹ºé´´' },
                { name: 'çµå˜´é´¨', type: 'æ°´é³¥', description: 'æ“æœ‰ç‰¹æ®Šçš„éŸç‹€å¤§å˜´ï¼Œç”¨ä»¥åœ¨æ°´ä¸­æ¿¾é£Ÿæµ®æ¸¸ç”Ÿç‰©ï¼Œæ˜¯å¸¸è¦‹çš„å†¬å€™é³¥ï¼Œå±•ç¾äº†æ¿•åœ°å¤šæ¨£çš„è¦“é£Ÿç­–ç•¥ã€‚', image: 'https://placehold.co/600x400/A6B48D/FFFFFF?text=çµå˜´é´¨' },
                { name: 'å°æ°´é´¨', type: 'æ°´é³¥', description: 'è‡ºç£å¯è¦‹é«”å‹æœ€å°çš„é´¨å­ï¼Œé£›è¡Œè¿…é€Ÿï¼Œé›„é³¥é ­éƒ¨æœ‰æ¼‚äº®çš„ç¶ è‰²çœ¼ç½©ï¼Œæ˜¯æ¿•åœ°ä¸­çš„å°å‹ç²¾éˆã€‚', image: 'https://placehold.co/600x400/A6B48D/FFFFFF?text=å°æ°´é´¨' },
                { name: 'å°ç‡•é·—', type: 'ç‡•é·—', description: 'é«”å‹å¬Œå°çš„å¤å€™é³¥ï¼Œæœƒåœ¨æµ·å²¸æ²™æ´²ç¹æ®–ï¼Œå°æ£²åœ°å¹²æ“¾éå¸¸æ•æ„Ÿï¼Œå…¶ç¹æ®–æˆåŠŸç‡æ˜¯æµ·å²¸å¥åº·çš„æŒ‡æ¨™ã€‚', image: 'https://placehold.co/600x400/BFCCB5/FFFFFF?text=å°ç‡•é·—' },
                { name: 'ç´…ç‡•é·—', type: 'ç‡•é·—', description: 'ç¹æ®–å­£æ™‚èƒ¸å‰æœƒå¸¶æœ‰æ·¡æ·¡çš„ç²‰ç´…è‰²ï¼Œå˜´åŠè…³ç‚ºæœ±ç´…è‰²ï¼Œæ˜¯å„ªé›…çš„å¤å€™é³¥ï¼Œå…¶è¹¤è·¡ç‚ºæµ·æ´‹ç”Ÿæ…‹å¢æ·»æµªæ¼«è‰²å½©ã€‚', image: 'https://placehold.co/600x400/BFCCB5/FFFFFF?text=ç´…ç‡•é·—' },
            ],
            habitats: {
                guandu: {
                    name: 'é—œæ¸¡å¹³åŸ',
                    description: 'ä½æ–¼è‡ºåŒ—ç›†åœ°ï¼Œæ˜¯æ·¡æ°´æ²³èˆ‡åŸºéš†æ²³äº¤æœƒçš„é‡è¦æ¿•åœ°ã€‚ä½œç‚ºåœ‹éš›é³¥ç›Ÿèªå®šçš„é‡è¦é³¥é¡æ£²åœ°ï¼Œé€™è£¡æ˜¯åŒ—è‡ºç£æ°´é³¥åº¦å†¬ã€éå¢ƒçš„é‡è¦é©›ç«™ï¼ŒåŒæ™‚ä¹Ÿæ˜¯çµåˆä¿è‚²ã€æ•™è‚²ã€ç ”ç©¶å’Œä¼‘é–’çš„ã€Œæˆ¶å¤–è‡ªç„¶åšç‰©é¤¨ã€ã€‚',
                    keySpecies: 'é›é´¨ã€é·¸é´´ã€é·ºç§‘',
                    chartData: { labels: ['ä¸»è¦æ°´é³¥', 'å…¶ä»–é³¥é¡'], values: [85, 15] }
                },
                qigu: {
                    name: 'ä¸ƒè‚¡æ½Ÿæ¹–',
                    description: 'è‡ºå—ä¸ƒè‚¡æ˜¯å…¨çƒé»‘é¢çµé·ºæœ€é‡è¦çš„åº¦å†¬åœ°ã€‚å»£å¤§çš„æ½Ÿæ¹–ã€é­šå¡­èˆ‡æ³¥ç˜åœ°æä¾›äº†è±å¯Œçš„é£Ÿç‰©ä¾†æºã€‚è¿‘å¹´é¢è‡¨ã€Œæ¼é›»å…±ç”Ÿã€å…‰é›»æ¿é–‹ç™¼å¸¶ä¾†çš„æ£²åœ°æ”¹è®ŠæŒ‘æˆ°ï¼Œå‡¸é¡¯äº†å†ç”Ÿèƒ½æºèˆ‡ç”Ÿæ…‹ä¿è‚²é–“çš„è¤‡é›œæ¬Šè¡¡ã€‚',
                    keySpecies: 'é»‘é¢çµé·ºã€é·¸é´´',
                    chartData: { labels: ['é»‘é¢çµé·º', 'å…¶ä»–æ°´é³¥'], values: [60, 40] }
                },
                kenting: {
                    name: 'å¢¾ä¸åœ‹å®¶å…¬åœ’',
                    description: 'è‡ºç£æœ€å—ç«¯çš„çŒ›ç¦½é·å¾™ç†±é»ã€‚æ¯å¹´ç§‹å­£ï¼Œæ•¸ä»¥è¬è¨ˆçš„ç°é¢éµŸé·¹ã€èµ¤è…¹é·¹åœ¨æ­¤é›†çµå—é·ã€‚æ­¤åœ°å¾éå»çš„ç›œçµç†±é»æˆåŠŸè½‰å‹ç‚ºç”Ÿæ…‹æ—…éŠå…¸ç¯„ï¼Œå±•ç¾äº†ç¤¾å€å‹ä¿è‚²çš„å·¨å¤§æ½›åŠ›ã€‚',
                    keySpecies: 'ç°é¢éµŸé·¹ã€èµ¤è…¹é·¹',
                    chartData: { labels: ['ä¸»è¦çŒ›ç¦½', 'å…¶ä»–é³¥é¡'], values: [90, 10] }
                }
            },
            threats: [
                { name: 'æ£²åœ°å–ªå¤±èˆ‡é€€åŒ–', description: 'å› éƒ½å¸‚æ“´å¼µã€è¾²åœ°è®Šæ›´ã€æ¿•åœ°é–‹ç™¼ï¼ˆå¦‚æ¼é›»å…±ç”Ÿï¼‰ç­‰å› ç´ ï¼Œå°è‡´å€™é³¥è³´ä»¥ç‚ºç”Ÿçš„è¦“é£Ÿèˆ‡ä¼‘æ¯åœ°æŒçºŒç¸®æ¸›ï¼Œæ˜¯å…¨çƒå€™é³¥æ•¸é‡ä¸‹é™çš„ä¸»å› ã€‚', icon: 'ğŸ—ï¸' },
                { name: 'çª—æ®º', description: 'é³¥é¡æ’æ“Šç»ç’ƒå¸·å¹•ç­‰äººé€ ç‰©è‡´æ­»ï¼Œæ˜¯å€‹å¸¸è¢«ä½ä¼°å»åš´é‡çš„å¨è„…ï¼Œå°¤å…¶åœ¨éƒ½å¸‚åœ°å€ã€‚è‡ºç£æ¯å¹´ä¼°è¨ˆæœ‰è¶…é5000éš»é³¥é¡å› æ­¤æ­»äº¡ã€‚', icon: 'ğŸ¢' },
                { name: 'å¡‘è† æ±¡æŸ“', description: 'æµ·å²¸é‚Šçš„å¡‘è† åƒåœ¾å®¹æ˜“è¢«é³¥é¡èª¤é£Ÿï¼Œé€ æˆæ¶ˆåŒ–é“é˜»å¡ã€ä¸­æ¯’ç”šè‡³æ­»äº¡ã€‚å»¢æ£„æ¼ç¶²ä¹Ÿå¯èƒ½çºç¹é³¥é¡ï¼Œå°è‡´å…¶å—å‚·æˆ–æ­»äº¡ã€‚', icon: 'ğŸ¥¤' },
                { name: 'éæ³•ç‹©çµèˆ‡æ°£å€™è®Šé·', description: 'å„˜ç®¡åç›œçµå·²æœ‰æˆæ•ˆï¼Œä½†å¨è„…ä¾ç„¶å­˜åœ¨ã€‚åŒæ™‚ï¼Œæ¥µç«¯æ°£å€™å¯èƒ½å°è‡´æ¿•åœ°ç’°å¢ƒæƒ¡åŒ–ï¼Œå¼•ç™¼è‚‰æ¯’æ¡¿èŒç­‰ç–¾ç—…çˆ†ç™¼ï¼Œå¨è„…é³¥é¡ç¾¤é«”å¥åº·ã€‚', icon: 'ğŸ¯' }
            ],
            conservation: {
                policies: [
                    { name: 'é‡ç”Ÿå‹•ç‰©ä¿è‚²æ³•', description: 'è‡ºç£ä¿è‚²å·¥ä½œçš„æœ€é«˜æ³•å¾‹æ¡†æ¶ï¼Œå°‡å—å¨è„…ç‰©ç¨®åˆ†é¡ä¿è­·ï¼Œä¸¦å°ç›œçµã€è²·è³£ç­‰è¡Œç‚ºè¨‚æœ‰ç½°å‰‡ï¼Œæ˜¯ç³»çµ±æ€§ä¿è‚²çš„åŸºçŸ³ã€‚' },
                    { name: 'æ¿•åœ°æ˜æ™ºåˆ©ç”¨', description: 'é€éæ”¿ç­–å¼•å°ï¼Œä¿è­·æ¿•åœ°çš„ç”Ÿæ…‹åŠŸèƒ½ï¼Œç¢ºä¿å…¶èƒ½æŒçºŒä½œç‚ºå€™é³¥åŠå…¶ä»–é‡ç”Ÿå‹•ç‰©çš„å®¶åœ’ï¼Œæ˜¯åœ‹å®¶ç´šçš„ä¿è‚²ç­–ç•¥ã€‚' },
                    { name: 'ç”Ÿæ…‹æœå‹™çµ¦ä»˜', description: 'æä¾›ç¶“æ¿Ÿèª˜å› ï¼Œé¼“å‹µæ¼æ°‘åœ¨ç¶“ç‡Ÿé­šå¡­çš„åŒæ™‚ï¼Œä¹Ÿèƒ½ç¶­æŒæˆ–ç‡Ÿé€ å°é³¥é¡å‹å–„çš„è¦“é£Ÿç’°å¢ƒï¼Œå‰µé€ äººé¡ç”Ÿè¨ˆèˆ‡ç”Ÿæ…‹ä¿è‚²çš„é›™è´ã€‚' },
                    { name: 'å€™é³¥å¤–äº¤å¤§ä½¿', description: 'ä»¥é»‘é¢çµé·ºçš„æˆåŠŸä¿è‚²ç‚ºä¾‹ï¼Œå±•ç¾è‡ºç£åœ¨å…¨çƒç”Ÿç‰©å¤šæ¨£æ€§ä¿è‚²ä¸­çš„è²¢ç»èˆ‡è§’è‰²ï¼Œä¿ƒé€²åœ‹éš›åˆä½œï¼Œæå‡åœ‹éš›å½¢è±¡ã€‚' }
                ],
                actions: [
                    { name: 'çª—æ®ºé˜²æ²»', description: 'åœ¨çª—æˆ¶ä¸Šè²¼ä¸Šé˜²é³¥æ’çš„è²¼ç´™ã€æ‡¸æ›ç¹©ç´¢æˆ–å®‰è£ç´—çª—ï¼Œç°¡å–®çš„å‹•ä½œå°±èƒ½æ‹¯æ•‘ç„¡æ•¸ç”Ÿå‘½ï¼Œæ˜¯äººäººå¯è¡Œçš„ä¿è‚²è¡Œå‹•ã€‚' },
                    { name: 'è²¬ä»»ç”Ÿæ…‹æ—…éŠ', description: 'é¸æ“‡å°ç’°å¢ƒå‹å–„çš„æ—…éŠæ–¹å¼ï¼Œå¦‚åƒåŠ è³é³¥æ´»å‹•ï¼Œèƒ½æ”¯æŒåœ¨åœ°ç¤¾å€ç™¼å±•ï¼Œè®“ä¿è‚²æˆç‚ºä¸€é–€ã€Œå¥½ç”Ÿæ„ã€ã€‚' },
                    { name: 'æ”¯æŒä¿è‚²çµ„ç¹”', description: 'é€éææ¬¾æˆ–æ“”ä»»å¿—å·¥ï¼Œæ”¯æŒå¦‚å„åœ°é‡é³¥å­¸æœƒã€é—œæ¸¡è‡ªç„¶å…¬åœ’ç­‰åœ˜é«”çš„ä¿è‚²ç ”ç©¶èˆ‡æ•™è‚²å·¥ä½œï¼ŒåŒ¯é›†æ°‘é–“åŠ›é‡ã€‚' },
                    { name: 'é€šå ±å—å‚·é³¥é¡', description: 'è‹¥ç™¼ç¾å—å‚·æˆ–å—å›°çš„é³¥é¡ï¼Œæ‡‰ç«‹å³é€šå ±ç•¶åœ°ç¸£å¸‚æ”¿åºœçš„å‹•ç‰©ä¿è­·è™•æˆ–ç›¸é—œæ•‘å‚·å–®ä½ï¼Œåˆ‡å‹¿è‡ªè¡Œè™•ç†ã€‚' }
                ]
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const navContainer = document.getElementById('nav-container');
            const contentSections = document.querySelectorAll('.content-section');
            const birdGallery = document.getElementById('bird-gallery');
            const birdFilterButtons = document.getElementById('bird-filter-buttons');
            const habitatInfoContainer = document.getElementById('habitat-info');
            const mapPoints = document.querySelectorAll('.map-point');
            const threatCardsContainer = document.getElementById('threat-cards');
            const policyListContainer = document.getElementById('policy-list');
            const actionListContainer = document.getElementById('action-list');

            let threatsChartInstance = null;
            let habitatChartInstance = null;

            function switchTab(targetId) {
                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === targetId);
                });
                navContainer.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.toggle('nav-active', btn.dataset.target === targetId);
                    btn.classList.toggle('nav-inactive', btn.dataset.target !== targetId);
                });

                if (targetId === 'threats' && !threatsChartInstance) {
                    renderThreatsChart();
                }
            }

            navContainer.addEventListener('click', (e) => {
                if (e.target.matches('.nav-btn')) {
                    switchTab(e.target.dataset.target);
                }
            });

            function renderBirds(filter = 'all') {
                birdGallery.innerHTML = '';
                const filteredBirds = filter === 'all' ? data.birds : data.birds.filter(b => b.type === filter);
                filteredBirds.forEach(bird => {
                    const card = document.createElement('div');
                    card.className = 'card rounded-lg shadow-md overflow-hidden cursor-pointer';
                    card.innerHTML = `
                        <img src="${bird.image}" alt="${bird.name}" class="w-full h-40 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Not+Found';">
                        <div class="p-4">
                            <h3 class="font-bold text-lg">${bird.name}</h3>
                            <p class="text-sm text-gray-500">${bird.type}</p>
                            <p class="text-gray-700 mt-2 text-sm hidden">${bird.description}</p>
                        </div>
                    `;
                    card.addEventListener('click', () => {
                        card.querySelector('p.hidden').classList.toggle('hidden');
                    });
                    birdGallery.appendChild(card);
                });
            }

            birdFilterButtons.addEventListener('click', e => {
                if (e.target.matches('.bird-filter-btn')) {
                    const filter = e.target.dataset.filter;
                    renderBirds(filter);
                    birdFilterButtons.querySelectorAll('button').forEach(btn => {
                        btn.classList.toggle('bg-[#8D9B6A]', btn === e.target);
                        btn.classList.toggle('text-white', btn === e.target);
                        btn.classList.toggle('bg-white', btn !== e.target);
                        btn.classList.toggle('text-gray-700', btn !== e.target);
                    });
                }
            });

            function renderHabitatInfo(habitatId) {
                const habitat = data.habitats[habitatId];
                habitatInfoContainer.innerHTML = `
                    <h3 class="text-2xl font-bold mb-2">${habitat.name}</h3>
                    <p class="text-gray-600 mb-4">${habitat.description}</p>
                    <p class="font-semibold">ä¸»è¦å¯è¦‹é³¥ç¨®ï¼š<span class="font-normal text-[#8D9B6A]">${habitat.keySpecies}</span></p>
                    <div class="chart-container mt-4">
                        <canvas id="habitatChart"></canvas>
                    </div>
                `;
                if (habitatChartInstance) {
                    habitatChartInstance.destroy();
                }
                const ctx = document.getElementById('habitatChart').getContext('2d');
                habitatChartInstance = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: habitat.chartData.labels,
                        datasets: [{
                            data: habitat.chartData.values,
                            backgroundColor: ['#8D9B6A', '#EAE3DD'],
                            borderColor: '#FFFFFF',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            mapPoints.forEach(point => {
                point.addEventListener('click', (e) => {
                    const habitatId = e.currentTarget.dataset.habitat;
                    renderHabitatInfo(habitatId);
                    mapPoints.forEach(p => p.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                });
            });

            function renderThreatsChart() {
                const ctx = document.getElementById('threatsChart').getContext('2d');
                threatsChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['çª—æ®º', 'æ£²åœ°å–ªå¤±', 'å¡‘è† æ±¡æŸ“', 'éæ³•ç‹©çµ/æ°£å€™è®Šé·'],
                        datasets: [{
                            label: 'å¨è„…ç›¸å°åš´é‡æ€§æŒ‡æ¨™',
                            data: [50, 45, 30, 25],
                            backgroundColor: '#A6B48D',
                            borderColor: '#8D9B6A',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'è¨»ï¼šæ­¤ç‚ºç›¸å°åš´é‡æ€§ç¤ºæ„ï¼Œéç²¾ç¢ºçµ±è¨ˆæ•¸æ“šã€‚'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        label += context.raw;
                                        if (context.label === 'çª—æ®º') {
                                            label += ' (æ¯å¹´ä¼°è¨ˆ>5000éš»)';
                                        }
                                        return ' ' + label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            function renderThreatCards() {
                threatCardsContainer.innerHTML = '';
                data.threats.forEach(threat => {
                    const card = document.createElement('div');
                    card.className = 'card p-6 flex items-start gap-4';
                    card.innerHTML = `
                        <div class="text-3xl pt-1">${threat.icon}</div>
                        <div>
                            <h4 class="font-bold text-lg">${threat.name}</h4>
                            <p class="text-gray-600 mt-1">${threat.description}</p>
                        </div>
                    `;
                    threatCardsContainer.appendChild(card);
                });
            }

            function renderConservationLists() {
                policyListContainer.innerHTML = '';
                actionListContainer.innerHTML = '';
                data.conservation.policies.forEach(policy => {
                    const item = document.createElement('div');
                    item.className = 'p-4 border-l-4 border-[#8D9B6A] bg-[#F8F4F1] rounded';
                    item.innerHTML = `
                        <h4 class="font-bold">${policy.name}</h4>
                        <p class="text-sm text-gray-600 mt-1">${policy.description}</p>
                    `;
                    policyListContainer.appendChild(item);
                });

                data.conservation.actions.forEach(action => {
                    const item = document.createElement('div');
                    item.className = 'p-4 border-l-4 border-[#A6B48D] bg-[#F8F4F1] rounded';
                    item.innerHTML = `
                        <h4 class="font-bold">${action.name}</h4>
                        <p class="text-sm text-gray-600 mt-1">${action.description}</p>
                    `;
                    actionListContainer.appendChild(item);
                });
            }

            renderBirds();
            renderHabitatInfo('guandu');
            document.getElementById('map-point-guandu').classList.add('active');
            renderThreatCards();
            renderConservationLists();
        });
    </script>
</body>
</html>
